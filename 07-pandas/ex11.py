import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

plt.rcParams['font.family'] = 'Malgun Gothic'
plt.rcParams['axes.unicode_minus'] = False

df = pd.read_csv("./07-pandas/books2.csv")

sns.pairplot(df, vars=['가격', '출간연도'], hue='카테고리')
plt.suptitle('가격, 출간연도 관계 Pairplot', y=1.00)
plt.savefig('pairplot.png')
plt.show() 

# 1. 좌상단 - 가격의 분포 (밀도 곡선)
# X축: 가격 (원화, 약 10,000원~40,000원 범위)
# Y축: 밀도
# 각 카테고리별로 색상이 다른 밀도 곡선으로 표시
# 대부분의 카테고리가 20,000원 전후에서 peak를 보임
# 프로그래밍(파란색)과 데이터분석(주황색) 카테고리가 상대적으로 높은 가격대에 분포

# 2. 우상단 - 가격 vs 출간연도 (산점도)
# X축: 출간연도 (2020~2025년)
# Y축: 가격 (원화)
# 각 점은 개별 책을 나타내며, 색상은 카테고리를 구분
# 최근 연도로 갈수록 책들이 더 많이 출간됨
# 가격은 출간연도와 큰 상관관계 없이 다양하게 분포

# 3. 좌하단 - 출간연도 vs 가격 (산점도)
# X축: 가격
# Y축: 출간연도
# 우상단 그래프를 축만 바꾼 동일한 데이터
# 2021년 이후 출간된 책들이 대부분
# 가격대는 카테고리별로 어느 정도 클러스터링되어 있음

# 4. 우하단 - 출간연도의 분포 (밀도 곡선)
# X축: 출간연도 (2020~2025년)
# Y축: 밀도
# 각 카테고리별 출간연도 분포를 보여줌
# 대부분의 카테고리에서 2022~2023년에 출간이 집중됨
# 일부 카테고리는 더 최근(2024년 이후)에 출간된 책들이 많음

# 주요 인사이트
# 가격: 프로그래밍과 데이터분석 관련 책들이 상대적으로 비싼 편
# 출간 트렌드: 2021년 이후 IT 관련 서적 출간이 급증
# 카테고리별 특성: 각 카테고리마다 고유한 가격대와 출간 시기 패턴을 보임